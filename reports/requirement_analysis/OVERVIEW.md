# 新要件 実装可能性分析 - 全体概要

**作成日**: 2025-10-16
**対象**: クライアントからの新規要件6件

---

## 📋 要件一覧

### 1. 配置転換の表示形式変更 (最優先)

**現在**: 「札幌から品川へ配置転換」(拠点間移動)
**変更後**: 「『SS(W)』の『OCR対象』の『エントリ1』へ、『非SS(W)』の『OCR対象』の『エントリ2』から5人移動」(業務間移動)

**実装可能性**: ✅ 完全実装可能
**工数**: 2時間

---

### 2. 新しい質問パターン6件

| No | 質問 | 実装可能性 | 工数 |
|----|------|-----------|------|
| Q1 | 納期20分前に処理完了となるよう配置 | ✅ 完全可能 | 4h |
| Q2 | 移動元の処理に影響はありますか? | ✅ 完全可能 | 3h |
| Q3 | 非SSから何人移動させたらよいですか? | ✅ 完全可能 | 6h |
| Q4 | 現在の配置だと何時に終了する想定ですか | ✅ 完全可能 | 3h |
| Q5 | 各工程何人ずつ配置したら良いですか | ⚠️ 部分可能 | 8h |
| Q6 | 遅延が発生する見込みがある工程はありますか | ✅ 完全可能 | 3h |

**合計工数**: 27時間

---

## 🎯 重要な発見

### 既存データで実装可能 (新規テーブル不要!)

元の見積もりでは、以下のテーブルが必要と思われていました:
- ❌ 納期マスタ
- ❌ 受信時刻別タスク管理
- ❌ 工程依存関係マスタ

しかし、**RealWorksManagerのKENPO_FSファイルに必要なデータが既に存在**していました:

| データ | 取得元 | 状態 |
|--------|--------|------|
| 納期情報 | `progress_snapshots.expected_completion_time` | ✅ |
| 受信時刻 | `progress_snapshots.snapshot_time` | ✅ |
| 残タスク数 | `progress_snapshots.total_waiting` | ✅ |
| 処理速度 | `operator_work_records` | ✅ |
| 現在の配置 | `login_records_by_location` | ✅ |

**結果**: 元見積もり51.5時間 → **実際35.5時間** (**16時間短縮**)

---

## 📊 フェーズ別実装計画

### フェーズ1: 最優先 (2日間 - 12時間)

1. 配置転換表示形式変更 (2h)
2. Q1: 納期20分前に完了 (4h)
3. Q6: 遅延リスク検出 (3h)
4. Q4: 完了時刻予測 (3h)

**ユーザー価値**: 納期管理機能の完成

---

### フェーズ2: 高優先 (2日間 - 9時間)

5. Q2: 移動元への影響分析 (3h)
6. Q3: 業務間移動人数計算 (6h)

**ユーザー価値**: 業務間の柔軟な配置調整

---

### フェーズ3: 中優先 (クライアント確認後 - 8時間)

7. Q5: 工程別最適配置 (8h)

**ユーザー価値**: 工程全体の最適化

**前提条件**: 工程間の依存率をクライアントに確認

---

## 🔍 クライアント確認事項

### Q5実装のために必要な情報

1. **工程間の依存率**
   ```
   エントリ100件 → 補正は何件になりますか?
   補正100件 → SV補正は何件になりますか?
   ```

2. **業務による違い**
   ```
   SS、非SS、あはき、適徴で依存率は異なりますか?
   ```

3. **工程の順序**
   ```
   エントリ → 補正 → SV補正 → 目検
   この順序は固定ですか?
   ```

4. **並行処理**
   ```
   エントリと補正を同時に進めることはできますか?
   ```

---

## 📈 工数サマリー

| カテゴリ | 工数 |
|---------|------|
| 表示形式変更 | 2h |
| フェーズ1 (最優先) | 10h |
| フェーズ2 (高優先) | 9h |
| フェーズ3 (中優先) | 8h |
| **合計** | **29h** |

---

## 💡 推奨アクション

1. **即座に着手**: フェーズ1 (2日間で完了可能)
2. **Q5の確認**: 工程依存率をクライアントに質問
3. **フェーズ2着手**: Q5の回答待ち中に実装

---

詳細は各質問のレポートを参照してください:
- [Q1_納期20分前完了.md](./Q1_納期20分前完了.md)
- [Q2_移動元影響.md](./Q2_移動元影響.md)
- [Q3_業務間移動.md](./Q3_業務間移動.md)
- [Q4_完了時刻予測.md](./Q4_完了時刻予測.md)
- [Q5_工程別配置.md](./Q5_工程別配置.md)
- [Q6_遅延リスク.md](./Q6_遅延リスク.md)
